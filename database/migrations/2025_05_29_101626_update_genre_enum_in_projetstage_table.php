<?php
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up(): void
    {
        Schema::table('dossiers', function (Blueprint $table) {
            // Supprimer l'ancienne colonne genre
            $table->dropColumn('genre');
        });

        Schema::table('dossiers', function (Blueprint $table) {
            // Créer la nouvelle colonne ENUM genre
            $table->enum('genre', [
                'الاستعجالي [1101]',
                'التقييد الاحتياطي [1105]',
                'تذييل الأحكام الأجنبية المتعلقة بالطلاق أو التطليق أو الخلع أو الفسخ [1117]',
                'الطعن ضد مقررات تحديد الاتعاب الصادرة عن نقيب  هيئة المحامين [1120]',
                'صعوبة التنفيذ  [1121]',
                'اداء اليميين المهنية [1122]',
                'ايقاف التنفيذ  [1123]',
                'الطعون ضد مقررات مجلس هيئة المحامين  و نزاعات المحامين [1124]',
                'مخالفات العدول المهنية [1125]',
                'مخالفات المفوضين القضائين المهنية [1126]',
                'مخالفات الموثقين المهنية [1127]',
                'تجريح القضاة [1128]',
                'المدني المتنوع [1201]',
                'المسؤولية التقصيرية [1202]',
                'التجاري [1203]',
                'الإداري [1204]',
                'تذييل بالصيغة التنفيذية [1207]',
                'المسطرة التأديبية [1208]',
                'قضايا المشورة مدني [1209]',
                'مدني عبري [1210]',
                'الاوامر بالاداء المستانفة [1220]',
                'القضايا الاستعجالية المستانفة [1221]',
                'الاوامر المبنية على طلب المستانفة [1222]',
                'أداء واجبات الكراء [1301]',
                'الإفراغ [1302]',
                'الأداء والإفراغ [1303]',
                'مراجعة السومة الكرائية [1304]',
                'قضايا المشورة أكرية [1305]',
                'العقار العادي [1401]',
                'العقار المحفظ [1402]',
                'العقار في طور التحفيظ [1403]',
                'القضايا العقارية العينية المختلطة [1404]',
                'قضايا المشورة عقار [1405]',
                'العقار العبري [1406]',
                'نزاعات الشغل [1501]',
                'حوادث الشغل [1502]',
                'الأمراض المهنية [1503]',
                'قضايا المشورة نزاعات الشغل [1504]',
                'قضايا المشورة حوادث الشغل [1505]',
                'الإصلاح والتغيير [1601]',
                'تسجيل الولادة [1602]',
                'تسجيل الوفاة [1603]',
                'إضافة بيانات [1604]',
                'النفقة [1606]',
                'التطليق [1607]',
                'الطلاق ( الإذن بالطلاق + المقرر النهائي) [1608]',
                'الحضانة [1609]',
                'الرجوع لبيت الزوجية [1610]',
                'ثبوت الزوجية [1611]',
                'صلة الرحم [1612]',
                'النسب [1613]',
                'التذييل بالصيغة التنفيذية(أسرة) [1614]',
                'الميراث [1615]',
                'زواج القاصرين [1616]',
                'كفالة الأطفال المهملين [1617]',
                'الإذن بالتعدد [1618]',
                'النيابة الشرعية [1619]',
                'قضايا الأحوال الشخصية الأخرى [1620]',
                'غرفة المشورة لقضايا الأسرة [1621]',
                'مراجعة لوازم الطلاق [1622]',
                'التحجير [1623]',
                'التصريح بالإهمال [1625]',
                'التطليق للشقاق [1626]',
                'التطليق للضرر [1627]',
                'الطلاق قبل البناء [1633]',
                'الطلاق الإتفاقي [1635]',
                'الطلاق بالخلع [1636]',
                'فسخ عقد زواج [1637]',
                'بطلان الزواج [1638]',
                'الأحوال الشخصية العبرية المغربية [1639]',
                'دعاوى الجنسية [1641]',
                'كفالة الأطفال غير المهملين [1642]',
                'النيابة القانونية [1643]',
                'النفقة وباقي الإلتزامات المادية للزوج أو الملزم بالنفقة [1645]',
                'الحق في زيارة محضون [1646]',
                'إعداد بيت للزوجية [1647]',
                'إصلاح خطأ مادي للأحوال الشخصية الفردي [1648]',
                'إصلاح خطأ مادي لقضايا التطليق [1650]',
                'إصلاح خطأ مادي للأحوال الشخصية الجماعية [1656]',
                'إصلاح خطأ مادي للحالة المدنية [1657]',
                'الطلاق الرجعي [1658]',
                'دمج العقوبات [2523]',
                'رد الإعتبار [2524]',
'جنحي إستئنافي تلبسي [2601]',
'جنحي إستئنافي عادي [2602]',
'جنحي إستئنافي أحداث تلبسي [2603]',
'جنحي إستئنافي أحداث عادي [2604]',
'حوادث السير إستئنافي تلبسي [2605]',
'حوادث السير إستئنافي عادي [2606]',
'جنحي أحداث حوادث السير مودعين [2607]',
'جنحي أحداث حوادث السير [2608]',
'الجنايات الإبتدائية رشداء سراح  [2609]',
'الجنايات الإبتدائية رشداء تلبسي  [2610]',
'الجنايات الإستئنافية رشداء سراح  [2611]',
'الجنايات الإستئنافية رشداء تلبسي  [2612]',
'الجنايات الإبتدائية أحداث  [2613]',
'الجنايات الإبتدائية أحداث مودعين  [2614]',
'الجنايات الإستئنافية أحداث   [2615]',
'الجنايات الإستئنافية أحداث مودعين   [2616]',
'جنحي عادي الإمتياز القضائي [2617]',
'جنحي اعتقال الامتياز القضائي [2618]',
'الجنايات الإبتدائية الإمتياز القضائي [2619]',
'الجنايات الإبتدائية الإمتياز القضائي إعتقال [2620]',
'الجنايات الإستئنافية الإمتياز القضائي [2621]',
'الجنايات الإستئنافية الإمتياز القضائي إعتقال [2622]',
'الجنايات الإبتدائية الجرائم المالية سراح [2623]',
'الجنايات الإبتدائية الجرائم المالية تلبسي [2624]',
'الجنايات الإستئنافية الجرائم المالية سراح  [2625]',
'الجنايات الإستئنافية الجرائم المالية تلبسي [2626]',
'الجنايات الإبتدائية إرهاب رشداء سراح  [2627]',
'الجنايات الإبتدائية إرهاب رشداء تلبسي [2628]',
'الجنايات الإستئنافية إرهاب رشداء سراح [2629]',
'الجنايات الإستئنافية إرهاب رشداء تلبسي [2630]',
'الجنايات الإبتدائية إرهاب أحداث [2631]',
'الجنايات الإبتدائية إرهاب أحداث مودعين [2632]',
'الجنايات الإستئنافية إرهاب أحداث [2633]',
'الجنايات الإستئنافية إرهاب أحداث مودعين [2634]',
'الجنح المستأنفة عنف ضد النساء سراح [2635]',
'الجنح المستأنفة عنف ضد النساء تلبسي [2636]',
'الجنح المستأنفة عنف ضد الأطفال سراح [2637]',
'الجنح المستأنفة عنف ضد الأطفال تلبسي [2638]',
'الجنايات الإبتدائية عنف ضد النساء سراح [2639]',
'الجنايات الإبتدائية عنف ضد النساء تلبسي [2640]',
'الجنايات الإبتدائية عنف ضد الأطفال سراح [2641]',
'الجنايات الإبتدائية عنف ضد الأطفال تلبسي [2642]',
'الجنايات المستأنفة عنف ضد النساء سراح [2643]',
'الجنايات المستأنفة عنف ضد النساء تلبسي [2644]',
'الجنايات المستأنفة عنف ضد الأطفال سراح [2645]',
'الجنايات المستأنفة عنف ضد األطفال تلبسي [2646]',
'إخلالات ضباط الشرطة خلال القيام بمهامهم [2660]',
'الجرائم الإلكترونية استئنافي [2661]',
'غرفة المشورة قضايا جنح مستأنفة [2701]',
'غرفة المشورة قضايا سير مستأنفة [2702]',
'غرفة المشورة قضايا الجنايات رشداء [2703]',
'غرفة المشورة قضايا الجنايات أحداث [2704]',
'غرفة المشورة قضايا الجنايات أحداث إستئنافي [2705]',
'غرفة المشورة قضايا الجنايات رشداء إستئنافي [2706]',
'غرفة المشورة قضايا جنح مستأنفة عادي رشداء [2707]',
'غرفة المشورة قضايا جنح مستأنفة عادي أحداث [2708]',
'غرفة المشورة قضايا جنح مستأنفة تلبسي [2709]',
'التحقيق رشداء [2301]',
'التحقيق احداث [2302]',
'قضايا التحقيق عنف ضد النساء [2305]',
'قضايا التحقيق عنف ضد الأطفال [2306]',
'التحقيق في حادثة سير مميتة [2307]',
'استئناف أوامر قاضي التحقيق رشداء [2525]',
'استئناف أوامر قاضي التحقيق (المحاكم الابتدائية) [2526]',
'استئناف أوامر قاضي التحقيق أحداث [2527]',
            ])->nullable();
        });
    }

    public function down(): void
    {
        Schema::table('dossiers', function (Blueprint $table) {
            $table->dropColumn('genre');
            $table->string('genre')->nullable(); // revenir à l'ancien type si besoin
        });
    }
};

